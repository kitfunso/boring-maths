---
/**
 * LMTD Calculator Page
 *
 * SEO-optimized page for heat exchanger LMTD calculations.
 */

import CalculatorLayout from '../../layouts/CalculatorLayout.astro';
import SEOHead from '../../components/common/SEOHead.astro';
import HeroSection from '../../components/calculators/shared/HeroSection.astro';
import ContentSection from '../../components/calculators/shared/ContentSection.astro';
import FAQSection from '../../components/calculators/shared/FAQSection.astro';
import LMTDCalculator from '../../components/calculators/LMTDCalculator/LMTDCalculator';

// SEO Configuration
const title = 'Free LMTD Calculator — Log Mean Temperature Difference | Boring Math';
const description =
  'Calculate LMTD for heat exchanger design. Supports counter-flow, parallel-flow, cross-flow, and shell & tube configurations with F correction factor.';
const keywords =
  'LMTD calculator, log mean temperature difference, heat exchanger calculator, heat transfer calculator, F factor, counter flow, shell and tube, chemical engineering';
const canonicalURL = '/calculators/lmtd-calculator';

const siteUrl = 'https://boring-math.com';

// Breadcrumbs
const breadcrumbs = [{ label: 'Calculators', href: '/calculators' }, { label: 'LMTD Calculator' }];

// Related calculators
const relatedCalculators = [
  {
    title: 'Reynolds Number Calculator',
    description: 'Calculate flow regime for heat transfer correlations.',
    href: '/calculators/reynolds-number-calculator',
    icon: 'calculator' as const,
    color: 'blue' as const,
  },
  {
    title: 'Ideal Gas Law Calculator',
    description: 'Calculate gas properties for heat exchangers.',
    href: '/calculators/ideal-gas-law-calculator',
    icon: 'trending' as const,
    color: 'green' as const,
  },
  {
    title: 'Pipe Flow Calculator',
    description: 'Calculate flow rate and velocity for pipe systems.',
    href: '/calculators/pipe-flow-calculator',
    icon: 'calculator' as const,
    color: 'blue' as const,
  },
];

// FAQ data
const faqs = [
  {
    question: 'What is LMTD?',
    answer:
      'Log Mean Temperature Difference (LMTD) is the driving force for heat transfer in a heat exchanger. It accounts for the varying temperature difference along the length of the exchanger and is used with Q = U × A × LMTD to size heat exchangers.',
  },
  {
    question: 'Why is counter-flow more efficient than parallel-flow?',
    answer:
      'In counter-flow, the temperature difference is more uniform along the exchanger, giving a higher LMTD. Counter-flow can also achieve closer approach temperatures - the cold fluid can exit hotter than the hot fluid outlet temperature.',
  },
  {
    question: 'What is the F correction factor?',
    answer:
      'The F factor corrects LMTD for heat exchangers that deviate from pure counter-flow, such as shell & tube or cross-flow configurations. F ranges from 0 to 1, with values below 0.75 generally indicating poor design.',
  },
  {
    question: 'When do I need to use the corrected LMTD?',
    answer:
      "Use corrected LMTD (F × LMTD) for multi-pass shell & tube exchangers, cross-flow exchangers, or any configuration that isn't pure counter-flow or parallel-flow. The correction accounts for reduced effectiveness.",
  },
  {
    question: 'What is a temperature cross?',
    answer:
      'A temperature cross occurs when the cold outlet exceeds the hot outlet temperature. This is impossible in parallel-flow but achievable in counter-flow. The calculator validates temperatures and warns of invalid configurations.',
  },
  {
    question: 'How do I use LMTD to size a heat exchanger?',
    answer:
      'Use Q = U × A × LMTD, where Q is heat duty (W), U is overall heat transfer coefficient (W/m²·K), A is heat transfer area (m²), and LMTD is from this calculator. Typical U values: water-water 850-1700, steam-water 1000-6000, gas-gas 10-30 W/m²·K.',
  },
];

// SEO schema breadcrumbs
const schemaBreadcrumbs = [
  { name: 'Calculators', url: '/calculators' },
  { name: 'LMTD Calculator', url: canonicalURL },
];
---

<CalculatorLayout
  title={title}
  description={description}
  keywords={keywords}
  canonicalURL={canonicalURL}
  breadcrumbs={breadcrumbs}
  relatedCalculators={relatedCalculators}
>
  <!-- Schema.org Markup -->
  <SEOHead
    slot="schema"
    name="LMTD Calculator"
    description={description}
    url={`${siteUrl}${canonicalURL}`}
    faqs={faqs}
    breadcrumbs={schemaBreadcrumbs}
  />

  <!-- Hero Section -->
  <HeroSection
    title="LMTD Calculator"
    description="Calculate Log Mean Temperature Difference for heat exchanger design. Supports multiple flow configurations with automatic F factor correction."
  />

  <!-- Calculator Component -->
  <section class="mb-16" aria-label="Calculator">
    <LMTDCalculator client:visible />
  </section>

  <!-- How to Use Section -->
  <ContentSection title="How to Use This Calculator">
    <p>
      Select your <strong>temperature unit</strong> and <strong>flow arrangement</strong>.
      Counter-flow is most efficient; shell & tube requires F factor correction.
    </p>
    <p>
      Enter the <strong>hot fluid temperatures</strong> (inlet and outlet) and
      <strong>cold fluid temperatures</strong>. The calculator validates your inputs to ensure a
      physically possible heat exchanger configuration.
    </p>
    <p>
      For shell & tube exchangers, specify the number of <strong>shell and tube passes</strong>. The
      F factor is automatically calculated based on these parameters.
    </p>
  </ContentSection>

  <!-- Understanding Results Section -->
  <ContentSection title="Flow Arrangements Explained">
    <p>
      <strong>Counter-flow</strong> - Fluids flow in opposite directions. Highest LMTD, F = 1.0. Preferred
      for maximum heat recovery.
    </p>
    <p>
      <strong>Parallel-flow</strong> - Fluids flow in same direction. Lower LMTD than counter-flow. Cold
      outlet cannot exceed hot outlet.
    </p>
    <p>
      <strong>Cross-flow</strong> - Fluids flow perpendicular. Common in air-cooled exchangers. F typically
      0.85-0.95.
    </p>
    <p>
      <strong>Shell & Tube</strong> - Multiple tube passes inside a shell. Most common industrial exchanger.
      F depends on pass configuration (typically 0.75-0.95).
    </p>
  </ContentSection>

  <!-- FAQ Section -->
  <FAQSection faqs={faqs} />
</CalculatorLayout>
