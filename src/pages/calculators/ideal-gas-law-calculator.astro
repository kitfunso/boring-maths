---
/**
 * Ideal Gas Law Calculator Page
 *
 * SEO-optimized page for PV=nRT calculations.
 */

import CalculatorLayout from '../../layouts/CalculatorLayout.astro';
import SEOHead from '../../components/common/SEOHead.astro';
import HeroSection from '../../components/calculators/shared/HeroSection.astro';
import ContentSection from '../../components/calculators/shared/ContentSection.astro';
import FAQSection from '../../components/calculators/shared/FAQSection.astro';
import IdealGasLawCalculator from '../../components/calculators/IdealGasLawCalculator/IdealGasLawCalculator';

// SEO Configuration
const title = 'Ideal Gas Law Calculator | PV = nRT';
const description =
  'Calculate pressure, volume, moles, or temperature using the ideal gas law (PV=nRT). Free online calculator with common gas presets and density calculation.';
const keywords =
  'ideal gas law calculator, PV=nRT calculator, gas law calculator, molar volume calculator, gas density calculator, chemistry calculator, thermodynamics';
const canonicalURL = '/calculators/ideal-gas-law-calculator';

const siteUrl = 'https://boring-math.com';

// Breadcrumbs
const breadcrumbs = [
  { label: 'Calculators', href: '/calculators' },
  { label: 'Ideal Gas Law Calculator' },
];

// Related calculators
const relatedCalculators = [
  {
    title: 'Reynolds Number Calculator',
    description: 'Determine flow regime for gases and liquids.',
    href: '/calculators/reynolds-number-calculator',
    icon: 'calculator' as const,
    color: 'blue' as const,
  },
  {
    title: 'Pressure Drop Calculator',
    description: 'Calculate pressure loss in gas pipelines.',
    href: '/calculators/pressure-drop-calculator',
    icon: 'trending' as const,
    color: 'yellow' as const,
  },
];

// FAQ data
const faqs = [
  {
    question: 'What is the ideal gas law?',
    answer:
      "The ideal gas law (PV = nRT) relates the pressure (P), volume (V), amount of substance (n), and temperature (T) of an ideal gas through the universal gas constant (R = 8.314 J/mol·K). It's fundamental for gas-phase calculations.",
  },
  {
    question: 'When is the ideal gas law accurate?',
    answer:
      'The ideal gas law is most accurate at low pressures (< 5 atm) and moderate to high temperatures (well above the boiling point). At high pressures or near condensation, real gas equations like van der Waals should be used.',
  },
  {
    question: 'What is the molar volume at STP?',
    answer:
      'At Standard Temperature and Pressure (0°C, 1 atm), one mole of an ideal gas occupies 22.414 liters. This is a useful reference for gas volume calculations.',
  },
  {
    question: 'How do I calculate gas density from the ideal gas law?',
    answer:
      'Gas density can be calculated as ρ = PM/(RT), where M is the molar mass. This calculator automatically computes density when you provide the molar mass of your gas.',
  },
  {
    question: 'What is the gas constant R?',
    answer:
      'The universal gas constant R = 8.314 J/(mol·K) = 8.314 Pa·m³/(mol·K). In other units: R = 0.0821 L·atm/(mol·K) or R = 1.987 cal/(mol·K).',
  },
  {
    question: 'Can I use this for real gases?',
    answer:
      'This calculator uses the ideal gas law, which is an approximation. For real gases at high pressure or low temperature, the results may deviate. The calculator provides a warning when conditions suggest significant deviation.',
  },
];

// SEO schema breadcrumbs
const schemaBreadcrumbs = [
  { name: 'Calculators', url: '/calculators' },
  { name: 'Ideal Gas Law Calculator', url: canonicalURL },
];
---

<CalculatorLayout
  title={title}
  description={description}
  keywords={keywords}
  canonicalURL={canonicalURL}
  breadcrumbs={breadcrumbs}
  relatedCalculators={relatedCalculators}
>
  <!-- Schema.org Markup -->
  <SEOHead
    slot="schema"
    name="Ideal Gas Law Calculator"
    description={description}
    url={`${siteUrl}${canonicalURL}`}
    faqs={faqs}
    breadcrumbs={schemaBreadcrumbs}
  />

  <!-- Hero Section -->
  <HeroSection
    title="Ideal Gas Law Calculator"
    description="Calculate gas properties using PV = nRT. Solve for pressure, volume, moles, or temperature with automatic unit conversion."
  />

  <!-- Calculator Component -->
  <section class="mb-16" aria-label="Calculator">
    <IdealGasLawCalculator client:visible />
  </section>

  <!-- How to Use Section -->
  <ContentSection title="How to Use This Calculator">
    <p>
      Select which variable to <strong>solve for</strong> (Pressure, Volume, Moles, or Temperature). The
      selected variable will be calculated from the other three values.
    </p>
    <p>
      Choose a <strong>common gas</strong> from the dropdown to automatically set the molar mass, which
      is used for density calculations. Or enter a custom molar mass.
    </p>
    <p>
      The calculator shows all state variables, gas density, and molar volume at your specified
      conditions. A note indicates whether the ideal gas assumption is reasonable.
    </p>
  </ContentSection>

  <!-- Understanding Results Section -->
  <ContentSection title="Understanding the Ideal Gas Law">
    <p>
      <strong>Pressure (P)</strong> - The force per unit area exerted by the gas molecules. Higher temperatures
      or more moles in a fixed volume increase pressure.
    </p>
    <p>
      <strong>Volume (V)</strong> - The space occupied by the gas. Gases expand to fill their container
      and compress under pressure.
    </p>
    <p>
      <strong>Amount (n)</strong> - The number of moles of gas. One mole contains 6.022 × 10²³ molecules
      (Avogadro's number).
    </p>
    <p>
      <strong>Temperature (T)</strong> - Must be in absolute units (Kelvin) for calculations. Temperature
      represents the average kinetic energy of gas molecules.
    </p>
  </ContentSection>

  <!-- FAQ Section -->
  <FAQSection faqs={faqs} />
</CalculatorLayout>
