---
/**
 * Emergency Fund Calculator Page
 *
 * SEO-optimized page targeting: "how much emergency fund do I need calculator"
 */

import CalculatorLayout from '../../layouts/CalculatorLayout.astro';
import SEOHead from '../../components/common/SEOHead.astro';
import HeroSection from '../../components/calculators/shared/HeroSection.astro';
import ContentSection from '../../components/calculators/shared/ContentSection.astro';
import FAQSection from '../../components/calculators/shared/FAQSection.astro';
import EmergencyFundCalculator from '../../components/calculators/EmergencyFund/EmergencyFundCalculator';

// SEO Configuration
const title = 'Emergency Fund Calculator | How Much Do You Need?';
const description = 'Calculate your ideal emergency fund size based on expenses, job stability, and dependents. Track your progress and get a personalized savings target.';
const keywords = 'emergency fund calculator, how much emergency fund, emergency savings calculator, rainy day fund, financial safety net, 3-6 months expenses';
const canonicalURL = '/calculators/emergency-fund-calculator';

const siteUrl = 'https://boring-math-calculators.vercel.app';

// Breadcrumbs
const breadcrumbs = [
  { label: 'Calculators', href: '/calculators' },
  { label: 'Emergency Fund Calculator' },
];

// Related calculators
const relatedCalculators = [
  {
    title: 'Savings Goal Calculator',
    description: 'Plan any savings goal with compound interest calculations.',
    href: '/calculators/savings-goal-calculator',
    icon: 'calculator' as const,
    color: 'yellow' as const,
  },
  {
    title: 'Side Hustle Calculator',
    description: 'Calculate if your side project is truly profitable.',
    href: '/calculators/side-hustle-profitability-calculator',
    icon: 'trending' as const,
    color: 'red' as const,
  },
];

// FAQ data
const faqs = [
  {
    question: "How much should I have in my emergency fund?",
    answer: "Most financial experts recommend 3-6 months of essential expenses. However, the right amount depends on your job stability, dependents, and risk tolerance. Those with unstable income or dependents may need 9-12 months, while those with very stable jobs and no dependents might be okay with 3 months."
  },
  {
    question: "What counts as an emergency?",
    answer: "True emergencies include job loss, major medical expenses, essential car repairs, urgent home repairs, and unexpected family situations. An emergency fund should NOT be used for planned expenses like vacations, new phones, or sales you don't want to miss."
  },
  {
    question: "Where should I keep my emergency fund?",
    answer: "Keep your emergency fund in a high-yield savings account at an FDIC-insured bank. It should be easily accessible (within 1-2 business days) but separate from your checking account so you're not tempted to spend it. Don't invest it in stocks - you need guaranteed access without risk of loss."
  },
  {
    question: "Should I pay off debt or build an emergency fund first?",
    answer: "Start with a mini emergency fund of $1,000-2,000 to handle small emergencies. Then focus on paying off high-interest debt (credit cards). Once high-interest debt is gone, build your full emergency fund before tackling low-interest debt like student loans or mortgages."
  },
  {
    question: "How do I build an emergency fund quickly?",
    answer: "Automate transfers to savings on payday (pay yourself first). Cut unnecessary subscriptions. Sell items you don't need. Use windfalls (tax refunds, bonuses) for your fund. Consider a temporary side hustle. Even $50-100/month adds up over time."
  },
  {
    question: "What if I can't afford to save for emergencies?",
    answer: "Start small - even $10-25 per paycheck builds the habit. Look for expenses to cut or ways to increase income. An emergency fund is essential because without one, you'll likely go into high-interest debt when emergencies happen, making your financial situation worse."
  }
];

// SEO schema breadcrumbs
const schemaBreadcrumbs = [
  { name: 'Calculators', url: '/calculators' },
  { name: 'Emergency Fund Calculator', url: canonicalURL },
];
---

<CalculatorLayout
  title={title}
  description={description}
  keywords={keywords}
  canonicalURL={canonicalURL}
  breadcrumbs={breadcrumbs}
  relatedCalculators={relatedCalculators}
>
  <!-- Schema.org Markup -->
  <SEOHead
    slot="schema"
    name="Emergency Fund Calculator"
    description={description}
    url={`${siteUrl}${canonicalURL}`}
    faqs={faqs}
    breadcrumbs={schemaBreadcrumbs}
  />

  <!-- Hero Section -->
  <HeroSection
    title="Emergency Fund Calculator"
    description="Calculate your ideal emergency fund size based on your expenses, job stability, and personal situation. Track your progress toward financial security."
  />

  <!-- Calculator Component -->
  <section class="mb-16" aria-label="Calculator">
    <EmergencyFundCalculator client:visible />
  </section>

  <!-- How to Use Section -->
  <ContentSection title="How to Use This Calculator">
    <p>
      Start by entering your <strong>monthly essential expenses</strong> - this includes
      rent/mortgage, utilities, groceries, insurance, minimum debt payments, and other
      necessary costs. Don't include discretionary spending like dining out or entertainment.
    </p>
    <p>
      Select your <strong>job stability level</strong>. Government employees, tenured professors,
      and essential workers have stable jobs. Most salaried employees are moderate. Freelancers,
      contractors, and those in volatile industries should select unstable.
    </p>
    <p>
      Enter your <strong>number of dependents</strong> (children, elderly parents) and your
      <strong>risk tolerance</strong>. Conservative savers want larger cushions; aggressive
      savers are comfortable with minimums.
    </p>
    <p>
      The calculator will recommend how many months of expenses you need and track your
      progress toward that goal based on your current savings.
    </p>
  </ContentSection>

  <!-- Understanding Results Section -->
  <ContentSection title="Understanding Your Results">
    <p>
      Your <strong>target emergency fund</strong> is calculated based on your specific situation.
      The recommendation ranges from 3-12 months depending on job stability, dependents, and
      risk tolerance.
    </p>
    <p>
      The <strong>progress bar</strong> shows how close you are to your goal. Green means you've
      reached your target, yellow means you're making good progress, and red means you should
      prioritize building your fund.
    </p>
    <p>
      The <strong>fund tiers</strong> section shows different safety levels. Even if your
      recommendation is 6 months, having 3 months is better than nothing. Work your way up
      through the tiers.
    </p>
    <p>
      <strong>Time to goal</strong> shows how long it will take to reach your target at your
      current monthly savings rate. If this seems too long, look for ways to increase your
      savings rate.
    </p>
  </ContentSection>

  <!-- FAQ Section -->
  <FAQSection faqs={faqs} />
</CalculatorLayout>
